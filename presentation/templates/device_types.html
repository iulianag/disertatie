{% extends "index.html" %}

{% block title %}
	<title>Device types</title>
{% endblock %}

{% block content %}
    <h1>Device types</h1>
    <br>
	<table id="types">
		<tr>
			<th><b>Id</b></th>
			<th><b>Name</b></th>
			<th><b>Description</b></th>
			<th><b>Unit</b></th>
			<th></th>
			<th></th>
		</tr>
		{% for data in data_list %}
		<tr>
			<td>
				<a href="{{ request.url_for('get_type', id=data['id']) }}">{{ data['id'] }}</a>
			</td>
			<td>{{ data['name'] }}</td>
			<td>
				<input type="text" id="description-{{ data['id'] }}" name="description" value="{{ data['description'] }}" required>
			</td>
			<td>
				<input type="text" id="unit-{{ data['id'] }}" name="unit" value="{{ data['unit'] }}" required>
			</td>
			<td>
				<a href="#" onclick="sendDelete(event,'/types/{{ data['id'] }}')">Delete</a>
			</td>
			<td>
				<a href="#" onclick="sendPut(event,'/types/{{ data['id'] }}','description-{{ data['id'] }}','unit-{{ data['id'] }}')">Save</a>
			</td>
	  	</tr>
		{% endfor %}
	</table>
	<form action="/types" method="POST" class="newItem">
		<div class="newItem"><br>
			<label for="name"><b>Device type name</b></label><br>
			<input type="text" placeholder="Enter group name" name="name" required><br>
			<label for="description"><b>Description</b></label><br>
			<input type="text" placeholder="Enter description" name="description" required><br>
			<label for="unit"><b>Unit</b></label><br>
			<input type="text" placeholder="Enter unit" name="unit" required><br>
			<input type="submit" value="Add">
		</div>
	</form>
{% endblock %}

