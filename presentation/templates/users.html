{% extends "index.html" %}

{% block title %}
	<title>Users</title>
{% endblock %}

{% block content %}
    <h1>Users</h1>
    <br>
	<table id="users">
		<tr>
			<th><b>Id</b></th>
			<th><b>Username</b></th>
			<th><b>Full name</b></th>
			<th><b>Email</b></th>
			<th></th>
			<th></th>
		</tr>
		{% for data in data_list %}
		<tr>
			<td>
				<a href="{{ request.url_for('get_user', id=data['id']) }}">{{ data['id'] }}</a>
			</td>
			<td>{{ data['username'] }}</td>
			<td>
				<input type="text" id="fullName-{{ data['id'] }}" name="fullName" value="{{ data['full_name'] }}" required>
			</td>
			<td>
				<input type="text" id="email-{{ data['id'] }}" name="email" value="{{ data['email'] }}" required>
			</td>
			<td>
				<a href="#" onclick="sendDelete(event,'/users/{{ data['id'] }}')">Delete</a>
			</td>
			<td>
				<a href="#" onclick="sendPut(event,'/users/{{ data['id'] }}','fullName-{{ data['id'] }}','email-{{ data['id'] }}')">Save</a>
			</td>
	  	</tr>
		{% endfor %}
	</table>
	<form action="/users" method="POST" class="newItem">
		<div class="newItem"><br>
			<label for="username"><b>Username</b></label><br>
			<input type="text" placeholder="Enter Username" name="username" required><br>
			<label for="password"><b>Password</b></label><br>
			<input type="password" placeholder="Enter Password" name="password" required><br>
			<label for="fullName"><b>Full name</b></label><br>
			<input type="text" placeholder="Enter full name" name="fullName" required><br>
			<label for="email"><b>Email</b></label><br>
			<input type="email" placeholder="Enter Email" name="email" required><br>
			<input type="submit" value="Add">
		</div>
	</form>
{% endblock %}

